<div class="card-wrapper">
    <mat-card>
        <mat-card-header>
            <mat-card-title>Login</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
                <!-- Email input -->
                <mat-form-field appearance="fill" class="full-width-input">
                    <mat-icon matPrefix>email</mat-icon>
                    <mat-label>Email</mat-label>
                    <input matInput formControlName="email">
                    <mat-error *ngIf="loginForm.get('email')?.errors?.['required']">
                        Email is required.
                    </mat-error>
                    <mat-error *ngIf="loginForm.get('email')?.errors?.['email']">
                        Please enter a valid email address.
                    </mat-error>
                </mat-form-field>

                <!-- Password input -->
                <mat-form-field appearance="fill" class="full-width-input">
                    <mat-icon matPrefix>lock</mat-icon>
                    <mat-label>Password</mat-label>
                    <input [type]="hidePassword ? 'password' : 'text'" matInput formControlName="password">
                    <button type="button" mat-icon-button matSuffix (click)="hidePassword = !hidePassword">
                        <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    <mat-error *ngIf="loginForm.get('password')?.errors?.['required']">
                        Password is required.
                    </mat-error>
                </mat-form-field>

                <button mat-raised-button color="primary" type="submit" [disabled]="loginForm.invalid">
                    <mat-icon>login</mat-icon> Login
                </button>

                <mat-error *ngIf="isLoginFailed">
                    Login failed. Please try again.
                </mat-error>

                <a href="/forgot-password" class="forgot-password-link">Forgot Password?</a>

                <div *ngIf="isLoggingIn">
                    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</div>